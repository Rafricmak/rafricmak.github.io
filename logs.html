<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Logs</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: black;
      color: white;
      font-family: monospace;
      font-size: 16px;
      overflow: hidden;
    }

    .console-container {
      padding: 20px;
      height: 100vh;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    #console {
      flex-grow: 1;
      overflow-y: auto;
      white-space: pre-wrap;
    }

    #input-line {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }

    #prompt {
      margin-right: 10px;
    }

    #command {
      background: none;
      border: none;
      color: white;
      font-family: monospace;
      font-size: 16px;
      outline: none;
      flex-grow: 1;
    }

    .back-arrow {
      position: absolute;
      top: 15px;
      left: 15px;
      font-size: 24px;
      cursor: pointer;
      text-decoration: none;
      color: white;
    }

    .back-arrow:hover {
      color: #ccc;
    }

    img.displayed-image {
      max-width: 80%;
      margin: 10px 0;
      border: 2px solid white;
    }

    audio, video {
      margin-top: 10px;
      max-width: 90%;
    }

    iframe {
      margin-top: 10px;
      border: none;
      max-width: 100%;
    }

    .output-line {
      margin-top: 6px;
    }
  </style>
</head>
<body>
  <a href="index.html" class="back-arrow">&#8592;</a>

  <div class="console-container">
    <div id="console">
      <div>Bienvenue dans le terminal de Rafricmak.</div>
      <div>Liste des fichiers disponibles :</div>
      <div>- sextape.mp4</div>
      <div>- bonne_journée.mp3</div>
      <div>- opinions.jpeg</div>
      <div>- weeb_edition_2023.png</div>
      <div>- weeb_esprit_critique.png</div>
      <div>- troll.jpeg</div>
      <div>- chat_dynamisant.jpeg</div>
      <div>- chat_reposant.png</div>
      <div>- rien_de_cacophonique</div>
      <div>- histoire_pas_ouf.pdf</div>
    </div>

    <div id="input-line">
      <span id="prompt">&gt;</span>
      <input type="text" id="command" autofocus autocomplete="off" />
    </div>
  </div>

<script>
  const logs = {
    "sextape.mp4": "https://www.dropbox.com/scl/fi/o8m98632t25jtrv9et54p/Rick-Astley-Never-Gonna-Give-You-Up-Official-Music-Video.mp4?rlkey=sfncfiilqt0bddn3jvleram9b&st=8zi64lum&raw=1",
    "bonne_journée.mp3": "https://www.dropbox.com/scl/fi/iyr4dpwydq4l9purrm06e/rain-a.mp3?rlkey=bdsnvknaoxwqsetvq5aq4t7p6&st=qykabhud&raw=1",
    "opinions.jpeg": "https://i.imgur.com/ajHPC5X.png",
    "weeb_edition_2023.png": "https://i.imgur.com/wacXeBr.png",
    "weeb_esprit_critique.png": "https://i.imgur.com/3epgwvN.png",
    "Troll.jpeg": "https://i.imgur.com/ty2FOf0.jpeg",
    "chat_dynamisant.jpeg": "https://i.imgur.com/ST9BpFR.jpeg",
    "chat_reposant.png": "https://i.imgur.com/d8w0U4J.jpeg",
    "rien_de_cacophonique": "https://www.youtube.com/playlist?list=PLuonf0zETMT692stRT9mWzStWQEZsOf9z",
    "histoire_pas_ouf.pdf": "https://www.dropbox.com/scl/fi/uei4bahhwogyq811nmbbl/La-maladie-des-cauchemars.pdf?rlkey=riaajded9ewqkhqtkuungixa4&raw=1"
  };

  const commandInput = document.getElementById("command");
  const consoleOutput = document.getElementById("console");

  ["paste", "copy", "cut", "contextmenu"].forEach(event =>
    commandInput.addEventListener(event, e => e.preventDefault())
  );

  function scrollToBottomOf(el) {
    el.scrollIntoView({ behavior: "smooth", block: "end" });
  }

  commandInput.addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      const value = commandInput.value.trim();
      if (!value) return;

      const userCommand = document.createElement("div");
      userCommand.textContent = "> " + value;
      consoleOutput.appendChild(userCommand);

      if (logs[value]) {
        const url = logs[value];
        const ext = value.split('.').pop().toLowerCase();

        let element;

        if (ext === "txt") {
          fetch(url).then(res => res.text()).then(text => {
            element = document.createElement("div");
            element.className = "output-line";
            element.textContent = text;
            consoleOutput.appendChild(element);
            scrollToBottomOf(element);
          });
        }

        else if (["jpeg", "jpg", "png", "gif", "webp"].includes(ext)) {
          element = document.createElement("img");
          element.src = url;
          element.className = "displayed-image";
          consoleOutput.appendChild(element);
          scrollToBottomOf(element);
        }

        else if (ext === "mp3") {
          element = document.createElement("audio");
          element.controls = true;
          element.src = url;
          consoleOutput.appendChild(element);
          setTimeout(() => element.play().catch(() => {}), 100);
          scrollToBottomOf(element);
        }

        else if (ext === "mp4") {
          element = document.createElement("video");
          element.controls = true;
          element.src = url;
          element.autoplay = true;
          element.style.maxHeight = "400px";
          consoleOutput.appendChild(element);
          setTimeout(() => element.play().catch(() => {}), 100);
          scrollToBottomOf(element);
        }

        else if (ext === "pdf") {
          element = document.createElement("iframe");
          element.src = url;
          element.width = "100%";
          element.height = "600px";
          consoleOutput.appendChild(element);
          scrollToBottomOf(element);
        }

        else if (url.includes("youtube.com/playlist")) {
          element = document.createElement("iframe");
          element.src = url;
          element.width = "100%";
          element.height = "600px";
          element.style.border = "2px solid white";
          element.allowFullscreen = true;
          consoleOutput.appendChild(element);
          scrollToBottomOf(element);
        }

        else {
          element = document.createElement("div");
          element.textContent = "Fichier reconnu mais type inconnu.";
          consoleOutput.appendChild(element);
          scrollToBottomOf(element);
        }
      }

      else {
        const errorLine = document.createElement("div");
        errorLine.textContent = "Fichier introuvable.";
        consoleOutput.appendChild(errorLine);
        scrollToBottomOf(errorLine);
      }

      commandInput.value = "";
    }
  });
  </script>
</body>
</html>
